# The Application of SQL 


## SELECT Statement: with Cout

```sql
SELECT 
    COUNT(DISTINCT `Overall Crime Category`)
FROM
    table_crimerecords
WHERE
    `Victim Gender` LIKE 'FEMALE'
        AND `Victim age band` = '20-29';
```

Output: 
```

+------------------------------------------+
| count(DISTINCT `Overall Crime Category`) |
+------------------------------------------+
|  8                                       |
+------------------------------------------+

```


## GROUP BY and SUM()

```sql
SELECT 
    `Policing_District`, SUM(CAST(`Count` AS UNSIGNED))
FROM
    table_monthly_crime_data
GROUP BY `Policing_District`;
```

Output: 
```
+-----------------------------------+--------------------------------+
| Policing_District                 | SUM(CAST(`Count` AS UNSIGNED)) |
+-----------------------------------+--------------------------------+
| Northern Irelan                   | 5155262                        |
+-----------------------------------+--------------------------------+
| Belfast City	                    | 1693062                        |
+-----------------------------------+--------------------------------+
| Lisburn & Castlereagh City        | 432843                         |
+-----------------------------------+--------------------------------+
| Ards & North Down                 | 468822                         |
+-----------------------------------+--------------------------------+
| Newry Mourne & Down               | 556075                         |
+-----------------------------------+--------------------------------+
| Armagh City Banbridge & Craigavon | 602688                         |
+-----------------------------------+--------------------------------+
| Mid Ulster                        | 416230                         |
+-----------------------------------+--------------------------------+
| Fermanagh & Omagh                 | 391802                         |
+-----------------------------------+--------------------------------+
| Derry City & Strabane             | 576819                         |
+-----------------------------------+--------------------------------+
| Causeway Coast & Glens            | 503548                         |
+-----------------------------------+--------------------------------+
| Mid & East Antrim                 | 457748                         |
+-----------------------------------+--------------------------------+
| Antrim & Newtownabbey             | 458676                         | 
+-----------------------------------+--------------------------------+
```

## ORDER BY and SUM()

```sql
SELECT 
    `Policing_District`, SUM(CAST(`Count` AS UNSIGNED))
FROM
    table_monthly_crime_data
GROUP BY `Policing_District`
ORDER BY SUM(CAST(`Count` AS UNSIGNED)) DESC;
```
Output:

```
+-----------------------------------+--------------------------------+
| Policing_District                 | SUM(CAST(`Count` AS UNSIGNED)) |
+-----------------------------------+--------------------------------+
| Northern Ireland                  | 5155262                        |
+-----------------------------------+--------------------------------+
| Belfast City	                    | 1693062                        |
+-----------------------------------+--------------------------------+
| Armagh City Banbridge & Craigavon | 602688                         |
+-----------------------------------+--------------------------------+
| Derry City & Strabane             | 576819                         |
+-----------------------------------+--------------------------------+
| Newry Mourne & Down	            | 556075                         |
+-----------------------------------+--------------------------------+
| Causeway Coast & Glens            | 503548                         |
+-----------------------------------+--------------------------------+
| Ards & North Down                 | 468822                         |
+-----------------------------------+--------------------------------+
| Antrim & Newtownabbey             | 458676                         |
+-----------------------------------+--------------------------------+
| Mid & East Antrim                 | 457748                         |
+-----------------------------------+--------------------------------+
| Lisburn & Castlereagh City        | 432843                         |
+-----------------------------------+--------------------------------+
| Mid Ulster	                    | 416230                         |
+-----------------------------------+--------------------------------+
| Fermanagh & Omagh                 | 391802                         |
+-----------------------------------+--------------------------------+
```

## ORDER BY and SUM()

## Sub-queries

```sql
SELECT DISTINCT
    `Area`
FROM
    table_incidents
WHERE
    `Incident ID` IN (SELECT 
            `Incident ID`
        FROM
            table_crimerecords
        WHERE
            `Victim age band` = '0-9'
                AND `Victim Gender` = 'MALE')
```

Output:
```
+---------------------
| Area               |
+---------------------
| Omagh              |            
+---------------------
| North Down         |               
+---------------------
| Lisburn            |               
+---------------------
| Down               |
+---------------------
| Antrim             |
+---------------------
| East Belfast       |
+---------------------
| Newtownabbey       |
+---------------------
| Moyle              |
+---------------------
| Castlereagh        |
+---------------------
| North Belfast      |
+---------------------
| Carrickfergus      |
+---------------------
| West Belfast       |
+---------------------
| Dungannon&S Tyrone |
+---------------------
| South Belfast      |
+---------------------
| Foyle              |
+---------------------
| Craigavon          |
+---------------------
| Ballymena          |
+---------------------
| Armagh             |
+---------------------
| Coleraine          |
+---------------------
| Fermanagh          |
+---------------------
| Ards               |
+---------------------
| Larne              |
+---------------------
| Newry & Mourne     |
+---------------------
| Limavady           |
+---------------------
| Ballymoney         |
+---------------------
| Cookstown          |
+---------------------
| Magherafel         |
+---------------------
| Banbridge          |
+---------------------
| Strabane           |
+---------------------
```

## VIEWS

```sql
SELECT 
    `Victim age band`, COUNT(*)
FROM
    victim_age_gender
WHERE
    `Victim Gender` = 'FEMALE'
GROUP BY `Victim age band`
ORDER BY COUNT(*) DESC;
```

Ouptut:
```
+-----------------+-----------
| Victim age band | COUNT(*) |
+-----------------+-----------
| 10-19           | 114      |
+-----------------+-----------
| 0-9	          | 106      |
+-----------------+-----------
| 20-29	          | 73       |
+-----------------+-----------
| 30-39	          | 42       |
+-----------------+-----------
| 40-49	          | 32       |
+-----------------+-----------
| 50-59	          | 7        |
+-----------------+-----------
| 60+	          | 4        |
+-----------------+-----------
